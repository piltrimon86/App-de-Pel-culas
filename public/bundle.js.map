{"version":3,"file":"bundle.js","sources":["../src/fetchGenres.js","../src/getGenre.js","../src/fetchPopular.js","../src/uploadGenre.js","../src/uploadTitle.js","../src/listenerFilter.js","../src/listenerFilterGenre.js","../src/fetchSearch.js","../src/listenerSearch.js","../src/pagination.js","../src/index.js"],"sourcesContent":["const fetchGenres = async (filter = 'movie') => {\r\n    const type = filter === 'movie' ? 'movie' : 'tv'\r\n\r\n    const url = `https://api.themoviedb.org/3/genre/${type}/list?api_key=31e525640d7e0c401602ee3129373d56&language=es-ES`\r\n\r\n    try {\r\n        const response = await fetch(url)\r\n        const data = await response.json()\r\n        return data.genres\r\n    } catch (error) {\r\n        console.log(error)\r\n    }\r\n}\r\n\r\nexport default fetchGenres\r\n","const getGenre = (id, genres) => {\r\n    let name\r\n\r\n    genres.forEach((elm) => {\r\n        if (id === elm.id) {\r\n            name = elm.name\r\n        }\r\n    })\r\n    return name\r\n}\r\n\r\nexport default getGenre\r\n","import fetchGenres from './fetchGenres'\r\nimport getGenre from './getGenre'\r\n\r\nconst fetchPopular = async (filter = 'movie') => {\r\n    const type = filter === 'movie' ? 'movie' : 'tv'\r\n\r\n    const url = `https://api.themoviedb.org/3/${type}/popular?api_key=31e525640d7e0c401602ee3129373d56&language=es-ES&page=1`\r\n\r\n    try {\r\n        const response = await fetch(url)\r\n        const data = await response.json()\r\n        const result = data.results\r\n\r\n        const genres = await fetchGenres()\r\n        result.forEach((elm) => {\r\n            elm.genre = getGenre(elm.genre_ids[0], genres)\r\n        })\r\n\r\n        return result\r\n    } catch (error) {\r\n        console.log(error)\r\n    }\r\n}\r\n\r\nexport default fetchPopular\r\n","import fetchGenres from './fetchGenres'\r\n\r\nconst containerGenre = document.getElementById('filtro-generos')\r\n\r\nconst uploadGenre = async (filter) => {\r\n    const genres = await fetchGenres(filter)\r\n\r\n    containerGenre.innerHTML = ''\r\n\r\n    genres.forEach((genre) => {\r\n        const btn = document.createElement('button')\r\n        btn.classList.add('btn')\r\n        btn.innerText = genre.name\r\n        btn.setAttribute('data-id', genre.id)\r\n\r\n        containerGenre.appendChild(btn)\r\n    })\r\n}\r\n\r\nexport default uploadGenre\r\n","const uploadTitle = (results) => {\r\n    const container = document.querySelector('#populares .main__grid')\r\n\r\n    container.innerHTML = ''\r\n\r\n    results.forEach((elm) => {\r\n        const template = `\r\n            <div class=\"main__media\">\r\n                <a href=\"#\" class=\"main__media-thumb\">\r\n            <img class=\"main__media-img\" src=\"https://image.tmdb.org/t/p/w500/${\r\n                elm.poster_path\r\n            }\" alt=\"\" />            \r\n                </a>\r\n                <p class=\"main__media-titulo\">${elm.title || elm.name}</p>\r\n                <p class=\"main__media-fecha\">${elm.genre}</p>\r\n            </div>\r\n        `\r\n        container.insertAdjacentHTML('beforeend', template)\r\n    })\r\n}\r\n\r\nexport default uploadTitle\r\n","import fetchPopular from './fetchPopular'\r\nimport uploadGenre from './uploadGenre'\r\nimport uploadTitle from './uploadTitle'\r\n\r\nconst filterMovie = document.getElementById('movie')\r\nconst filterTv = document.getElementById('tv')\r\n\r\nfilterMovie.addEventListener('click', async (e) => {\r\n    e.preventDefault()\r\n\r\n    // Cargamos los generos en la barra lateral\r\n    uploadGenre('movie')\r\n\r\n    // Obtenemos los resultados\r\n    const results = await fetchPopular('movie')\r\n\r\n    // Los cargamos en el DOM\r\n    uploadTitle(results)\r\n\r\n    filterTv.classList.remove('btn--active')\r\n    filterMovie.classList.add('btn--active')\r\n    document.querySelector('#populares .main__titulo').innerText =\r\n        'Películas Populares'\r\n})\r\n\r\nfilterTv.addEventListener('click', async (e) => {\r\n    e.preventDefault()\r\n\r\n    // Cargamos los generos en la barra lateral\r\n    uploadGenre('tv')\r\n\r\n    // Obtenemos los resultados\r\n    const results = await fetchPopular('tv')\r\n\r\n    // Los cargamos en el DOM\r\n    uploadTitle(results)\r\n\r\n    filterMovie.classList.remove('btn--active')\r\n    filterTv.classList.add('btn--active')\r\n    document.querySelector('#populares .main__titulo').innerText =\r\n        'Series Populares'\r\n})\r\n","const container = document.getElementById('filtro-generos')\r\ncontainer.addEventListener('click', (e) => {\r\n    e.preventDefault()\r\n\r\n    if (e.target.closest('button')) {\r\n        container.querySelector('.btn--active')?.classList.remove('btn--active')\r\n\r\n        // Agregamos la clase active, para que el botón se marque al pulsar sobre él\r\n        e.target.classList.add('btn--active')\r\n    }\r\n})\r\n","import fetchGenres from './fetchGenres'\r\nimport getGenre from './getGenre'\r\n\r\nconst fetchSearch = async (page = 1) => {\r\n    const type = document.querySelector('.main__filtros .btn--active').id\r\n    const idGenre = document.querySelector('#filtro-generos .btn--active')\r\n        ?.dataset.id\r\n    const initialYear = document.getElementById('años-min').value || 1950\r\n    const finalYear = document.getElementById('años-max').value || 2024\r\n\r\n    let url\r\n    if (type === 'movie') {\r\n        url = `https://api.themoviedb.org/3/discover/movie?api_key=31e525640d7e0c401602ee3129373d56&include_adult=false&include_video=false&language=es-ES&page=${page}&release_date.gte=${initialYear}&release_date.lte=${finalYear}&sort_by=popularity.desc&with_genres=${idGenre}`\r\n    } else if (type === 'tv') {\r\n        url = `https://api.themoviedb.org/3/discover/tv?api_key=31e525640d7e0c401602ee3129373d56&first_air_date.gte=${initialYear}&first_air_date.lte=${finalYear}&include_adult=false&include_null_first_air_dates=false&language=es-ES&page=${page}&sort_by=popularity.desc&with_genres=${idGenre}`\r\n    }\r\n\r\n    try {\r\n        const response = await fetch(url)\r\n        const data = await response.json()\r\n        const result = data.results\r\n\r\n        const genres = await fetchGenres()\r\n        result.forEach((elm) => {\r\n            elm.genre = getGenre(elm.genre_ids[0], genres)\r\n        })\r\n\r\n        return result\r\n    } catch (error) {\r\n        console.log(error)\r\n    }\r\n}\r\n\r\nexport default fetchSearch\r\n","import fetchSearch from './fetchSearch'\r\nimport uploadTitle from './uploadTitle'\r\n\r\nconst btn = document.getElementById('btn-buscar')\r\nbtn.addEventListener('click', async (e) => {\r\n    const results = await fetchSearch()\r\n\r\n    uploadTitle(results)\r\n})\r\n","import fetchSearch from './fetchSearch'\r\nimport uploadTitle from './uploadTitle'\r\n\r\nconst previousPage = document.getElementById('pagina-anterior')\r\nconst nextPage = document.getElementById('pagina-siguiente')\r\n\r\nnextPage.addEventListener('click', async (e) => {\r\n    const currentPage = document.getElementById('populares').dataset.pagina\r\n\r\n    try {\r\n        const results = await fetchSearch(currentPage + 1)\r\n        document\r\n            .getElementById('populares')\r\n            .setAttribute('data-pagina', parseInt(currentPage) + 1)\r\n\r\n        uploadTitle(results)\r\n        window.scrollTo(0, 0)\r\n    } catch (error) {\r\n        console.log(error)\r\n    }\r\n})\r\n\r\npreviousPage.addEventListener('click', async (e) => {\r\n    const currentPage = document.getElementById('populares').dataset.pagina\r\n\r\n    if (currentPage > 1) {\r\n        try {\r\n            const results = await fetchSearch(currentPage - 1)\r\n            document\r\n                .getElementById('populares')\r\n                .setAttribute('data-pagina', parseInt(currentPage) - 1)\r\n\r\n            uploadTitle(results)\r\n            window.scrollTo(0, 0)\r\n        } catch (error) {\r\n            console.log(error)\r\n        }\r\n    }\r\n})\r\n","import fetchPopular from './fetchPopular'\r\nimport uploadGenre from './uploadGenre'\r\nimport uploadTitle from './uploadTitle'\r\nimport './listenerFilter'\r\nimport './listenerFilterGenre'\r\nimport './listenerSearch'\r\nimport './pagination'\r\n\r\nconst upload = async () => {\r\n    const results = await fetchPopular()\r\n    uploadTitle(results)\r\n    uploadGenre('movie')\r\n}\r\nupload()\r\n"],"names":[],"mappings":"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"}